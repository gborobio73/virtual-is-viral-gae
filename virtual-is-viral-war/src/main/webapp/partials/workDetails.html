<div nav-menu></div>
<img src='{{work.imagelUrl}}' class = "image-details"/>
<div class = "image-footer"> 
	<div ng-show="work.user == user.name">
		<a id="editWork" href ng-click="showEditFields = true;" >Edit</a>
		<div ng-show="showEditFields">
			Title: <input type="text" ng-model = "work.name"/>
			Description: <input type="text" ng-model = "work.description"/>
			<button ng-click="saveWork()">Save</button>
			<img ng-show="savingWork" src="../img/ajax-loader-small.gif"/>
		</div>	
	</div>
	<div ng-hide ="showEditFields">	    
		<p>{{work.name}}: {{work.description}} by {{work.user}}. Added on {{work.created}}</p>
	</div>
   	<p>Comments:</p>
   	<div ng-repeat="comment in work.comments" >
 	    <p>{{comment.user}} commented: {{comment.comment}} on {{comment.date}}
			<a id="a-delete" href ng-click="deleteComment(work.id, comment.id)" ng-show="canDelete(comment)">Delete</a>
			<img ng-show="removingComment" src="../img/ajax-loader-small.gif"/>
     	</p>
	</div>
	<div>
		<input type="text" ng-model = "commentText"/>
		<button ng-click="addComment()">Add</button>
		<img ng-show="addingComment" src="../img/ajax-loader-small.gif"/>
	</div>
</div>